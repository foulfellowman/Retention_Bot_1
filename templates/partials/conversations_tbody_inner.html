{% for c in conversations %}
    <tr hx-get="/conversations/{{ c.phone_number }}"
        hx-target="#chat-pane"
        hx-include="#search, #conversations-state"
        hx-on="click: document.querySelectorAll('#conversations-body tr').forEach(e => e.classList.remove('active')); this.classList.add('active'); document.getElementById('current-selected-phone').value='{{ c.phone_number }}'"
        class="{% if c.phone_number == selected_phone %}active{% endif %}">
      <td>
        <span class="conversation-name">
          {% if c.was_interested %}
            <span class="interested-indicator" title="Previously showed interest" aria-hidden="true"></span>
          {% endif %}
          {{ c.display_name or 'Unknown' }}
        </span>
      </td>
      <td>{{ c.phone_number }}</td>
      <td>{{ c.status }}</td>
      <td>
        <button class="edit-btn"
                hx-get="/conversations/{{ c.phone_number }}/edit"
                hx-target="#modal-container"
                hx-swap="innerHTML">edit</button>
      </td>
    </tr>
{% endfor %}

{% if not conversations %}
  <tr><td colspan="4">No conversations found</td></tr>
{% endif %}
